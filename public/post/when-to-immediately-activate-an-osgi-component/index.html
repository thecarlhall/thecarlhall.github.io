<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage data-theme=light><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>When To Immediately Activate An OSGi Component - Carlibrated!
</title><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,user-scalable=yes"><meta name=MobileOptimized content="width"><meta name=HandheldFriendly content="true"><meta name=applicable-device content="pc,mobile"><meta name=color-scheme content="light dark"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=mobile-web-app-capable content="yes"><meta name=generator content="Hugo 0.140.0"><link rel=canonical href=https://thecarlhall.github.io/post/when-to-immediately-activate-an-osgi-component/><meta name=author content="Carl Hall"><meta name=description content="OSGi has a fantastic feature for immediate components [1] and delayed components [2]. This allows components to delay their possibly expensive activation until the component is first accessed. At the very least it allows the OSGi platform to consume resources as needed. No sense is sucking up those server resources for something that can wait.
As developers start their adventure into OSGi, I&rsquo;ve noticed a pattern creeping up that I&rsquo;m not sure folks are aware of: j_ust because you like your component doesn&rsquo;t mean it needs to start immediately._ Unless your component has something it needs to do before other components can do their work, there&rsquo;s little need to start a component immediately. A lot of times, the work can be moved into the bundle activator or is fine being delayed.
"><meta name=keywords content="osgi,services"><meta property="og:url" content="https://thecarlhall.github.io/post/when-to-immediately-activate-an-osgi-component/"><meta property="og:site_name" content="Carlibrated!"><meta property="og:title" content="When To Immediately Activate An OSGi Component"><meta property="og:description" content="OSGi has a fantastic feature for immediate components [1] and delayed components [2]. This allows components to delay their possibly expensive activation until the component is first accessed. At the very least it allows the OSGi platform to consume resources as needed. No sense is sucking up those server resources for something that can wait.
As developers start their adventure into OSGi, I’ve noticed a pattern creeping up that I’m not sure folks are aware of: j_ust because you like your component doesn’t mean it needs to start immediately._ Unless your component has something it needs to do before other components can do their work, there’s little need to start a component immediately. A lot of times, the work can be moved into the bundle activator or is fine being delayed."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2011-02-04T00:00:00+00:00"><meta property="article:modified_time" content="2011-02-04T00:00:00+00:00"><meta property="article:tag" content="Osgi"><meta property="article:tag" content="Services"><meta itemprop=name content="When To Immediately Activate An OSGi Component"><meta itemprop=description content="OSGi has a fantastic feature for immediate components [1] and delayed components [2]. This allows components to delay their possibly expensive activation until the component is first accessed. At the very least it allows the OSGi platform to consume resources as needed. No sense is sucking up those server resources for something that can wait.
As developers start their adventure into OSGi, I’ve noticed a pattern creeping up that I’m not sure folks are aware of: j_ust because you like your component doesn’t mean it needs to start immediately._ Unless your component has something it needs to do before other components can do their work, there’s little need to start a component immediately. A lot of times, the work can be moved into the bundle activator or is fine being delayed."><meta itemprop=datePublished content="2011-02-04T00:00:00+00:00"><meta itemprop=dateModified content="2011-02-04T00:00:00+00:00"><meta itemprop=wordCount content="412"><meta itemprop=keywords content="Osgi,Services"><meta name=twitter:card content="summary"><meta name=twitter:title content="When To Immediately Activate An OSGi Component"><meta name=twitter:description content="OSGi has a fantastic feature for immediate components [1] and delayed components [2]. This allows components to delay their possibly expensive activation until the component is first accessed. At the very least it allows the OSGi platform to consume resources as needed. No sense is sucking up those server resources for something that can wait.
As developers start their adventure into OSGi, I’ve noticed a pattern creeping up that I’m not sure folks are aware of: j_ust because you like your component doesn’t mean it needs to start immediately._ Unless your component has something it needs to do before other components can do their work, there’s little need to start a component immediately. A lot of times, the work can be moved into the bundle activator or is fine being delayed."><link rel=icon href=/favicon.ico><link rel=stylesheet href=/css/style.min.de488e0d4b09a0b9f6412192239661fda9bb9ea66e49d8f210bf0786a4e36acb.css integrity="sha256-3kiODUsJoLn2QSGSI5Zh/am7nqZuSdjyEL8HhqTjass=" media=screen crossorigin=anonymous><link rel=stylesheet href=/css/custom.css><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script><script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--><div class=carl-header><img src=/images/soon-cat.jpg alt="Header Image"></div><script>(function(){var e=localStorage.getItem("theme")||"light";document.documentElement.setAttribute("data-theme",e)})()</script></head><body><div id=back-to-top></div><header class=site-header><div class=desktop-header><div class=desktop-header-logo><a href=/ class=logo>Carlibrated</a></div><nav class=desktop-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=https://thecarlhall.github.io/>Home</a></li><li class=menu-item><a class=menu-item-link href=https://thecarlhall.github.io/post/>Posts</a></li><li class=menu-item><a class=menu-item-link href=https://thecarlhall.github.io/categories/>Categories</a></li><li class=menu-item><a class=menu-item-link href=https://thecarlhall.github.io/tags/>Tags</a></li><li class=menu-item><a class=menu-item-link href=https://thecarlhall.github.io/about/>About</a></li><li class=menu-item><a class="theme-toggle menu-item-link" href=javascript:void(0);><svg aria-hidden="true" class="lucide lucide-sun hi-svg-inline theme-icon-light" fill="none" height="1em" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg><svg aria-hidden="true" class="lucide lucide-moon hi-svg-inline theme-icon-dark" fill="none" height="1em" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><path d="M12 3a6 6 0 009 9 9 9 0 11-9-9z"/></svg></a></li><li class=menu-item><a class=menu-item-link href=https://thecarlhall.github.io/index.xml rel="noopener alternate" type=application/rss+xml title=rss target=_blank><svg aria-hidden="true" class="lucide lucide-rss hi-svg-inline icon--rss" fill="none" height="1em" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></li></ul></nav></div><div class=mobile-header><div id=mobile-navbar class=mobile-navbar><div id=mobile-navbar-icon class=mobile-navbar-icon><svg aria-hidden="true" class="lucide lucide-menu hi-svg-inline icon--menu" fill="none" height="1em" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg></div><div class=mobile-navbar-logo><a href=/ class=logo>Carlibrated</a></div></div><div id=mobile-menu-close-modal class=mobile-menu-close-modal></div><nav id=mobile-menu class=mobile-menu><ul class=mobile-menu-list><li class=mobile-menu-item><a class=menu-item-link href=https://thecarlhall.github.io/>Home</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://thecarlhall.github.io/post/>Posts</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://thecarlhall.github.io/categories/>Categories</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://thecarlhall.github.io/tags/>Tags</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://thecarlhall.github.io/about/>About</a></li><li class=mobile-menu-item><a class="theme-toggle menu-item-link" href=javascript:void(0);><svg aria-hidden="true" class="lucide lucide-sun hi-svg-inline theme-icon-light" fill="none" height="1em" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg><svg aria-hidden="true" class="lucide lucide-moon hi-svg-inline theme-icon-dark" fill="none" height="1em" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><path d="M12 3a6 6 0 009 9 9 9 0 11-9-9z"/></svg></a></li><li class=mobile-menu-item><a class=menu-item-link href=https://thecarlhall.github.io/index.xml rel="noopener alternate" type=application/rss+xml title=rss target=_blank><svg aria-hidden="true" class="lucide lucide-rss hi-svg-inline icon--rss" fill="none" height="1em" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></li></ul></nav></div></header><main id=main class="main pico container"><div class=content-wrapper><aside class=sidebar></aside><div id=content class=content><article class=post><header class=post-header><h1 class=post-title>When To Immediately Activate An OSGi Component</h1><div class=post-meta-list><div class="post-meta-item post-meta-author"><svg aria-hidden="true" class="lucide lucide-user-round-pen hi-svg-inline" fill="none" height="1em" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><path d="M2 21a8 8 0 0110.821-7.487"/><path d="M21.378 16.626a1 1 0 00-3.004-3.004l-4.01 4.012a2 2 0 00-.506.854l-.837 2.87a.5.5.0 00.62.62l2.87-.837a2 2 0 00.854-.506z"/><circle cx="10" cy="8" r="5"/></svg>
<a href=/about><span class=post-meta-author-name>Carl Hall</span></a></div><div class="post-meta-item post-meta-time"><svg aria-hidden="true" class="lucide lucide-calendar-days hi-svg-inline" fill="none" height="1em" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><path d="M8 2v4"/><path d="M16 2v4"/><rect width="18" height="18" x="3" y="4" rx="2"/><path d="M3 10h18"/><path d="M8 14h.01"/><path d="M12 14h.01"/><path d="M16 14h.01"/><path d="M8 18h.01"/><path d="M12 18h.01"/><path d="M16 18h.01"/></svg>
<time datetime=2011-02-04>2011-02-04</time></div><div class=post-meta__right><div class="post-meta-item post-meta-category"><a href=https://thecarlhall.github.io/categories/development/>development</a></div></div></div></header><div class=post-content><p>OSGi has a fantastic feature for immediate components <a href=/post/when-to-immediately-activate-an-osgi-component/#1_osgi>[1]</a> and delayed components <a href=/post/when-to-immediately-activate-an-osgi-component/#2_osgi>[2]</a>. This allows components to delay their possibly expensive activation until the component is first accessed. At the very least it allows the OSGi platform to consume resources as needed. No sense is sucking up those server resources for something that can wait.</p><p>As developers start their adventure into OSGi, I&rsquo;ve noticed a pattern creeping up that I&rsquo;m not sure folks are aware of: j_ust because you like your component doesn&rsquo;t mean it needs to start immediately._ Unless your component has something it needs to do before other components can do their work, there&rsquo;s little need to start a component immediately. A lot of times, the work can be moved into the bundle activator or is fine being delayed.</p><p>People often see that a component does <em>something</em> in its activation method and assume it should start immediately. The questions to ask yourself are:</p><ul><li>Will the things that need to use this component have a reference to it? <em>Yes? Delayed activation.</em></li><li>Before activation, will functionality be missing that should be available as soon as possible? <em>Yes? Immediate activation.</em></li><li>Can something else do the job of activating the component at a later time? <em>Yes? Delayed activation.</em></li></ul><p>Registering with an external service, such as JMS, is a perfect scenario for an immediate component. If the JMS service were in OSGi, declarative services could do the work of making sure service trackers know your component exists, but OSGi has no jurisdiction over external resources. Binding to a JMS topic requires manual interaction and therefore should happen by way of immediate component activation.</p><p>Getting and setting of properties is not a case for immediate component activation. Neither is because the service is referenced by something else.</p><p>When using declarative services, a reference to your not-yet-started component will be given to anything that has said it wants to collect an interface you implement. This requires no effort on the part of the service being referenced and thusly does not require the referenced service to be activated immediately. Fret not! On first access of this service by any consumer the service will get activated.</p><p>OSGi has not been the fastest thing for me to learn but understanding the nuances of little things like this really helps me understand why it is a good approach at decoupled services and modular software construction.</p><p>1. OSGi compendium spec version 4.2, section 112.2.2 2. OSGi compendium spec version 4.2, section 112.2.3</p></div><div class=post-copyright><p class=copyright-item><span class=item-title>Author</span>
<span class=item-content>Carl Hall</span></p><p class=copyright-item><span class=item-title>LastMod</span>
<span class=item-content>2011-02-04</span></p><p class=copyright-item><span class=item-title>License</span>
<span class=item-content><a rel="license noopener" href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank>CC BY-NC-ND 4.0</a></span></p></div><footer class=post-footer><div class=post-tags><a href=https://thecarlhall.github.io/tags/osgi/>osgi</a>
<a href=https://thecarlhall.github.io/tags/services/>services</a></div><nav class=post-nav><a class=prev href=/post/basics-of-osgi-and-declarative-services/><i class=iconfont><svg aria-hidden="true" class="lucide lucide-chevron-left hi-svg-inline" fill="none" height="1em" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><path d="m15 18-6-6 6-6"/></svg>
</i><span class="prev-text nav-default">Basics of OSGi and Declarative Services</span>
<span class="prev-text nav-mobile">Prev</span>
</a><a class=next href=/post/ldap-authentication-authorization-dissected-and-digested/><span class="next-text nav-default">LDAP Authentication &amp;amp; Authorization Dissected and Digested</span>
<span class="prev-text nav-mobile">Next</span>
<i class=iconfont><svg aria-hidden="true" class="lucide lucide-chevron-right hi-svg-inline" fill="none" height="1em" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><path d="m9 18 6-6-6-6"/></svg></i></a></nav></footer></article></div></div></main><footer id=footer class=site-footer><div class=social-icon-links><a href=https://thecarlhall.github.io/index.xml rel="noopener alternate" type=application/rss+xml class=social-icon-link title=rss target=_blank><svg aria-hidden="true" class="lucide lucide-rss hi-svg-inline" fill="none" height="1em" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></div><div class=copyright><span class=power-by>Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a>
</span><span class=division>|</span>
<span class=theme-info>Theme - <a class=theme-link href=https://github.com/xianmin/hugo-theme-jane>Jane</a>
</span><span class=copyright-year>&copy;
2024
<span class=heart><i class=iconfont><svg aria-hidden="true" class="lucide lucide-heart hi-svg-inline" fill="none" height="1em" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="1em"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5.0 0016.5 3c-1.76.0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5.0 002 8.5c0 2.3 1.5 4.05 3 5.5l7 7z"/></svg>
</i></span><span class=author>Carl Hall</span></span></div></footer><script type=text/javascript src=/js/main.22922b44c2472763db448ad18224b6dafba94e9de0a8d08b7542197bffebf023.js integrity="sha256-IpIrRMJHJ2PbRIrRgiS22vupTp3gqNCLdUIZe//r8CM=" crossorigin=anonymous></script><script type=text/javascript src=/lib/photoswipe/photoswipe.min.js></script><script type=text/javascript src=/lib/photoswipe/photoswipe-ui-default.min.js></script></body></html>